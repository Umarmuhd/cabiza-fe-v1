(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5407],{50243:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(67294),o=r(85893),i=function(e){e.previousTitle;var t=e.nextTitle,r=(e.onClickPrevious,e.onClickNext),i=(e.lastButton,e.onClickConfirmButton);e.stepErrors;return(0,o.jsx)("div",{children:t?(0,o.jsx)("button",{type:"submit",className:"w-full mt-8 bg-primary text-white p-4 cursor-pointer rounded-4xl font-medium flex items-center justify-center",onClick:r,children:(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("span",{className:"mr-4",children:"Next"}),(0,o.jsx)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M5.5 12H19.5M19.5 12L12.5 4.99988M19.5 12L12.5 18.9999",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})}):(0,o.jsx)("button",{type:"submit",className:"w-full mt-8 bg-primary text-white p-4 cursor-pointer rounded-4xl font-medium flex items-center justify-center",onClick:i,children:(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("span",{className:"mr-4",children:"Submit"}),(0,o.jsx)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M5.5 12H19.5M19.5 12L12.5 4.99988M19.5 12L12.5 18.9999",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})})})};function l(e){var t=e.stepIndex,r=(e.setStepIndex,e.stepTitles),l=e.stepErrors,s=e.onClickPrevious,u=e.onClickNext,c=(e.onClickMenuItem,e.onClickConfirmButton),a=e.children,d=0===t,f=t===r.length-1,p=function(){return(0,o.jsx)("button",{type:"submit",className:"w-full mt-8 bg-primary text-white p-4 cursor-pointer rounded-4xl font-medium flex items-center justify-center",onClick:c,disabled:l.find((function(e){return e})),children:(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("span",{className:"mr-4",children:"Submit"}),(0,o.jsx)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M5.5 12H19.5M19.5 12L12.5 4.99988M19.5 12L12.5 18.9999",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})})};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center bg-secondary_sky_lighter rounded-lg p-1",children:[(0,o.jsx)("button",{className:"p-2 rounded "+(d?" bg-primary_brand_lighter text-primary":"bg-primary text-white"),disabled:d,onClick:s,children:(0,o.jsx)("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M5.50002 11.78C5.37335 11.78 5.24669 11.7333 5.14669 11.6333L0.800019 7.28666C0.0933529 6.58 0.0933529 5.42 0.800019 4.71333L5.14669 0.366664C5.34002 0.173331 5.66002 0.173331 5.85335 0.366664C6.04669 0.559998 6.04669 0.879998 5.85335 1.07333L1.50669 5.42C1.18669 5.74 1.18669 6.26 1.50669 6.58L5.85335 10.9267C6.04669 11.12 6.04669 11.44 5.85335 11.6333C5.75335 11.7267 5.62669 11.78 5.50002 11.78Z",fill:"".concat(d?"#5B44E9":"#fff")})})}),(0,o.jsx)("span",{className:"mx-2 text-primary_brand_lighter",children:"|"}),(0,o.jsx)("button",{className:"p-2 rounded "+(f?" bg-primary_brand_lighter text-primary":" bg-primary text-white"),disabled:f,onClick:u,children:(0,o.jsx)("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M1.44023 11.78C1.31356 11.78 1.18689 11.7333 1.08689 11.6333C0.893561 11.44 0.893561 11.12 1.08689 10.9267L5.43356 6.58C5.75356 6.26 5.75356 5.74 5.43356 5.42L1.08689 1.07333C0.893561 0.879998 0.893561 0.559998 1.08689 0.366664C1.28023 0.173331 1.60023 0.173331 1.79356 0.366664L6.14023 4.71333C6.48023 5.05333 6.67356 5.51333 6.67356 6C6.67356 6.48666 6.48689 6.94666 6.14023 7.28666L1.79356 11.6333C1.69356 11.7267 1.56689 11.78 1.44023 11.78Z",fill:"white"})})})]}),(0,o.jsxs)("span",{className:"text-lg font-medium text-primary_brand_light",children:["Step: ",t+2," of 6"]})]}),(0,o.jsx)("h1",{className:"text-4xl font-semibold text-secondary_ink_dark mt-8",children:r[t]}),a,(0,o.jsx)(i,{previousTitle:d?void 0:r[t-1],nextTitle:f?void 0:r[t+1],onClickPrevious:s,onClickNext:u,lastButton:(0,o.jsx)(p,{}),onClickConfirmButton:c,stepErrors:l})]})}},7942:function(e,t,r){"use strict";var n=r(85696);t.default=void 0;var o,i=(o=r(67294))&&o.__esModule?o:{default:o},l=r(64957),s=r(69898),u=r(90639);var c={};function a(e,t,r,n){if(e&&l.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;c[t+"%"+r+(o?"%"+o:"")]=!0}}var d=function(e){var t,r=!1!==e.prefetch,o=s.useRouter(),d=i.default.useMemo((function(){var t=l.resolveHref(o,e.href,!0),r=n(t,2),i=r[0],s=r[1];return{href:i,as:e.as?l.resolveHref(o,e.as):s||i}}),[o,e.href,e.as]),f=d.href,p=d.as,m=e.children,h=e.replace,x=e.shallow,g=e.scroll,v=e.locale;"string"===typeof m&&(m=i.default.createElement("a",null,m));var y=(t=i.default.Children.only(m))&&"object"===typeof t&&t.ref,b=u.useIntersection({rootMargin:"200px"}),C=n(b,2),j=C[0],_=C[1],w=i.default.useCallback((function(e){j(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,j]);i.default.useEffect((function(){var e=_&&r&&l.isLocalURL(f),t="undefined"!==typeof v?v:o&&o.locale,n=c[f+"%"+p+(t?"%"+t:"")];e&&!n&&a(o,f,p,{locale:t})}),[p,f,_,v,r,o]);var k={ref:w,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,i,s,u){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&l.isLocalURL(r))&&(e.preventDefault(),t[o?"replace":"push"](r,n,{shallow:i,locale:u,scroll:s}))}(e,o,f,p,h,x,g,v)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),l.isLocalURL(f)&&a(o,f,p,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var P="undefined"!==typeof v?v:o&&o.locale,N=o&&o.isLocaleDomain&&l.getDomainLocale(p,P,o&&o.locales,o&&o.domainLocales);k.href=N||l.addBasePath(l.addLocale(p,P,o&&o.defaultLocale))}return i.default.cloneElement(t,k)};t.default=d},90639:function(e,t,r){"use strict";var n=r(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,r=e.rootMargin,c=e.disabled||!l,a=o.useRef(),d=o.useState(!1),f=n(d,2),p=f[0],m=f[1],h=o.useState(t?t.current:null),x=n(h,2),g=x[0],v=x[1],y=o.useCallback((function(e){a.current&&(a.current(),a.current=void 0),c||p||e&&e.tagName&&(a.current=function(e,t,r){var n=function(e){var t,r={root:e.root||null,margin:e.rootMargin||""},n=u.find((function(e){return e.root===r.root&&e.margin===r.margin}));n?t=s.get(n):(t=s.get(r),u.push(r));if(t)return t;var o=new Map,i=new IntersectionObserver((function(e){e.forEach((function(e){var t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return s.set(r,t={id:r,observer:i,elements:o}),t}(r),o=n.id,i=n.observer,l=n.elements;return l.set(e,t),i.observe(e),function(){if(l.delete(e),i.unobserve(e),0===l.size){i.disconnect(),s.delete(o);var t=u.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));t>-1&&u.splice(t,1)}}}(e,(function(e){return e&&m(e)}),{root:g,rootMargin:r}))}),[c,g,r,p]);return o.useEffect((function(){if(!l&&!p){var e=i.requestIdleCallback((function(){return m(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[p]),o.useEffect((function(){t&&v(t.current)}),[t]),[y,p]};var o=r(67294),i=r(26286),l="undefined"!==typeof IntersectionObserver;var s=new Map,u=[]},75413:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(59499),o=r(36864),i=r(67294),l=r(41664),s=r(50243),u=r(87536),c=r(95496),a=r(74231),d=r(32059),f=a.Ry().shape({url:a.Z_().required("Product url is required"),file:a.nK().test("required","You need to provide a file",(function(e){return e&&e.length})).test("fileSize","The file is too large",(function(e,t){return e&&e[0]&&e[0].size<=2e6})).test("type","We only support jpeg/png",(function(e){return e&&e[0]&&("image/jpeg"===e[0].type||"image/png"===e[0].type)}))}),p=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t,r,n,a=(0,o.Z)({},e),m=a.onClickPrevious,x=a.onClickNext,g=a.stepErrors,v=a.stepIndex,y=a.setStepErrors,b=a.onClickConfirmButton,C=function(e){var t=e.stepIndex,r=e.stepErrors,n=e.setStepErrors,o=e.product,l=(0,d.f)(),s=l.productContent,a=l.setProductContent,p=o.file,m=o.url,h=(0,u.cI)({mode:"onBlur",defaultValues:s.file||s.url?s:{file:null!==p&&void 0!==p?p:null,url:m},resolver:(0,c.X)(f)});return i.useEffect((function(){n(r.map((function(e,r){return r===t?!h.formState.isValid:e})))}),[h.formState.isValid]),{methods:h,setValues:function(){var e=h.getValues();a(e)}}}({stepIndex:v,stepErrors:g,setStepErrors:y,product:a.product}),j=C.methods,_=C.setValues,w=j.watch,k=j.register,P=j.formState.errors;return console.log(typeof w("file")),(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(s.Z,h(h({},a),{},{onClickPrevious:function(){m&&m(),_()},onClickNext:function(){x&&x(),_()},onClickMenuItem:_,onClickConfirmButton:function(){b(),_()},children:(0,p.jsxs)("form",{className:"mt-8",id:"form",onSubmit:function(e){return e.preventDefault()},children:[(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsx)("p",{className:"leading-4 font-medium text-secondary_ink_darkest mb-3",children:"Files"}),(0,p.jsxs)("div",{className:"border border-dashed border-secondary_sky_base p-4 rounded-lg",children:[(0,p.jsx)("input",h({type:"file",name:"add_files",id:"add_files",className:"hidden"},k("file",{required:!0}))),(0,p.jsxs)("label",{htmlFor:"add_files",className:"w-1/2 mx-auto text-center",children:[(0,p.jsx)("h3",{className:"text-secondary text-base font-medium",children:(null!==(t=j.getValues().file)&&void 0!==t?t:void 0!==w("file")&&(null===(r=w("file"))||void 0===r?void 0:r.length)>0)?"string"===typeof w("file")?w("file"):w("file")[0].name:"Add Files"}),(0,p.jsx)("p",{className:"mt-4 secondary_brand_light",children:"Upload your product files here"}),(0,p.jsxs)("span",{className:"flex w-[max-content] mx-auto py-2 px-4 mt-6 rounded-4xl bg-primary_brand_lightest text-primary",children:[(0,p.jsx)("p",{className:"mr-2 text-primary font-medium",children:"+"}),"Upload Files"]})]})]}),"required"===(null===(n=P.file)||void 0===n?void 0:n.type)&&(0,p.jsx)("p",{className:"text-left text-red-600 text-xs mt-1",children:"Product file is required"})]}),(0,p.jsxs)("div",{className:"flex flex-col mt-5",children:[(0,p.jsxs)("label",{htmlFor:"redirecting_url",className:"leading-4 font-medium text-secondary_ink_darkest mb-3",children:["Redirect URL (optional)"," "]}),(0,p.jsxs)("div",{className:"border border-solid border-sky_light p-4 rounded-lg mt-2 outline-none flex items-center justify-between",children:[(0,p.jsx)("input",h(h({type:"url",name:"product_url",id:"product_url",placeholder:"Redirect URL after purchase",className:" outline-none w-[90%]"},k("url",{required:!1})),{},{autoComplete:"off"})),(0,p.jsx)(l.default,{href:"/dashboard/products",children:(0,p.jsx)("button",{className:"border border-solid border-grey_20 px-4 rounded text-grey_20 py-2",children:"Test"})})]})]})]})}))})}},71589:function(e,t,r){"use strict";r.d(t,{u_:function(){return l},kq:function(){return i},bL:function(){return c},pi:function(){return s},$k:function(){return d},$c:function(){return p},CF:function(){return a},nf:function(){return u},zF:function(){return f},iS:function(){return m}});var n=r(2804),o=r(62396),i={name:null,description:null,thumbnail:null,cover_image:null},l=(0,n.cn)({key:o.D.CreateProduct_BasicInfo,default:i,dangerouslyAllowMutability:!0}),s={call_to_action:null,summary:null,additional_details:null},u=(0,n.cn)({key:o.D.CreateProduct_ProductInfo,default:s}),c={url:null,file:null},a=(0,n.cn)({key:o.D.CreateProduct_ProductContent,default:c,dangerouslyAllowMutability:!0}),d={price:null,user_priced:!1,min_price:null,max_price:null},f=(0,n.cn)({key:o.D.CreateProduct_ProductPricing,default:d}),p={become_affiliate:null},m=(0,n.cn)({key:o.D.CreateProduct_ProductSettings,default:p})},62396:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});var n={CreateProduct_BasicInfo:"CreateProduct_BasicInfo",CreateProduct_ProductInfo:"CreateProduct_ProductInfo",CreateProduct_ProductContent:"CreateProduct_ProductContent",CreateProduct_ProductPricing:"CreateProduct_ProductPricing",CreateProduct_ProductSettings:"CreateProduct_ProductSettings"}},32059:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});r(62396);var n=r(16835),o=r(2804),i=r(71589),l=function(){var e=(0,o.FV)(i.u_),t=(0,n.Z)(e,2),r=t[0],l=t[1],s=(0,o.FV)(i.nf),u=(0,n.Z)(s,2),c=u[0],a=u[1],d=(0,o.FV)(i.CF),f=(0,n.Z)(d,2),p=f[0],m=f[1],h=(0,o.FV)(i.zF),x=(0,n.Z)(h,2),g=x[0],v=x[1],y=(0,o.FV)(i.iS),b=(0,n.Z)(y,2);return{basicInfo:r,productInfo:c,productContent:p,productPricing:g,productSettings:b[0],setBasicInfo:l,setProductInfo:a,setProductContent:m,setProductPricing:v,setProductSettings:b[1]}}},70871:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/products/create/product-content/ProductContent",function(){return r(75413)}])},41664:function(e,t,r){e.exports=r(7942)},52587:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},36864:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:function(){return n}})},16835:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2937);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,s=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(u){s=!0,o=u}finally{try{l||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(52587);function o(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}}},function(e){e.O(0,[7536,3978,9774,2888,179],(function(){return t=70871,e(e.s=t);var t}));var t=e.O();_N_E=t}]);