(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3715],{26278:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(50029),r=s(87794),c=s.n(r),a=s(67294),i=s(11163),u=s(74931),o=s(76871),l=s(9669),f=s.n(l),d=s(85893),h=function(){return(0,d.jsxs)("svg",{className:"animate-spin -ml-1 h-8 w-8 md:h-10 md:w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"#006156",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"#006156",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};function m(){var e=(0,a.useState)(!1),t=e[0],s=e[1],r=(0,i.useRouter)(),l=r.query,m=l.transaction_id,p=l.tx_ref;return"failed"===l.status&&(r.push("/discover"),u.Am.error("Payment failed please try again")),(0,a.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,f().get("".concat(o.T,"/orders/verify/").concat(m,"/").concat(p));case 4:200===(t=e.sent).status&&(s(!1),u.Am.success("Payment verified successfully"),r.push("/checkout/success")),202===t.status&&(s(!1),u.Am.success("Order is already paid"),r.push("/checkout/success")),s(!1),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),s(!1),console.log(e.t0),e.t0.response&&u.Am.error(e.t0.response.data.message),r.push("/discover");case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[r,m,p]),(0,d.jsx)("div",{className:"bg-grey_95 min-h-screen grid place-content-center",children:(0,d.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,d.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-grey_40",children:t?(0,d.jsx)(h,{}):"Verifying payment. Please wait ..."})})})}},61128:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/verifying",function(){return s(26278)}])}},function(e){e.O(0,[4931,9774,2888,179],(function(){return t=61128,e(e.s=t);var t}));var t=e.O();_N_E=t}]);