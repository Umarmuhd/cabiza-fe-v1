(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{7942:function(e,t,r){"use strict";var n=r(85696);t.default=void 0;var o,a=(o=r(67294))&&o.__esModule?o:{default:o},i=r(64957),c=r(69898),s=r(90639);var l={};function u(e,t,r,n){if(e&&i.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;l[t+"%"+r+(o?"%"+o:"")]=!0}}var f=function(e){var t,r=!1!==e.prefetch,o=c.useRouter(),f=a.default.useMemo((function(){var t=i.resolveHref(o,e.href,!0),r=n(t,2),a=r[0],c=r[1];return{href:a,as:e.as?i.resolveHref(o,e.as):c||a}}),[o,e.href,e.as]),d=f.href,p=f.as,m=e.children,h=e.replace,v=e.shallow,g=e.scroll,x=e.locale;"string"===typeof m&&(m=a.default.createElement("a",null,m));var w=(t=a.default.Children.only(m))&&"object"===typeof t&&t.ref,y=s.useIntersection({rootMargin:"200px"}),b=n(y,2),k=b[0],j=b[1],_=a.default.useCallback((function(e){k(e),w&&("function"===typeof w?w(e):"object"===typeof w&&(w.current=e))}),[w,k]);a.default.useEffect((function(){var e=j&&r&&i.isLocalURL(d),t="undefined"!==typeof x?x:o&&o.locale,n=l[d+"%"+p+(t?"%"+t:"")];e&&!n&&u(o,d,p,{locale:t})}),[p,d,j,x,r,o]);var L={ref:_,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,c,s){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(r))&&(e.preventDefault(),t[o?"replace":"push"](r,n,{shallow:a,locale:s,scroll:c}))}(e,o,d,p,h,v,g,x)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),i.isLocalURL(d)&&u(o,d,p,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var N="undefined"!==typeof x?x:o&&o.locale,E=o&&o.isLocaleDomain&&i.getDomainLocale(p,N,o&&o.locales,o&&o.domainLocales);L.href=E||i.addBasePath(i.addLocale(p,N,o&&o.defaultLocale))}return a.default.cloneElement(t,L)};t.default=f},90639:function(e,t,r){"use strict";var n=r(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,r=e.rootMargin,l=e.disabled||!i,u=o.useRef(),f=o.useState(!1),d=n(f,2),p=d[0],m=d[1],h=o.useState(t?t.current:null),v=n(h,2),g=v[0],x=v[1],w=o.useCallback((function(e){u.current&&(u.current(),u.current=void 0),l||p||e&&e.tagName&&(u.current=function(e,t,r){var n=function(e){var t,r={root:e.root||null,margin:e.rootMargin||""},n=s.find((function(e){return e.root===r.root&&e.margin===r.margin}));n?t=c.get(n):(t=c.get(r),s.push(r));if(t)return t;var o=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return c.set(r,t={id:r,observer:a,elements:o}),t}(r),o=n.id,a=n.observer,i=n.elements;return i.set(e,t),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),c.delete(o);var t=s.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));t>-1&&s.splice(t,1)}}}(e,(function(e){return e&&m(e)}),{root:g,rootMargin:r}))}),[l,g,r,p]);return o.useEffect((function(){if(!i&&!p){var e=a.requestIdleCallback((function(){return m(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[p]),o.useEffect((function(){t&&x(t.current)}),[t]),[w,p]};var o=r(67294),a=r(26286),i="undefined"!==typeof IntersectionObserver;var c=new Map,s=[]},66318:function(e,t,r){"use strict";r.r(t);var n=r(50029),o=r(87794),a=r.n(o),i=r(67294),c=r(41664),s=r(74931),l=r(9669),u=r.n(l),f=r(76871),d=r(85893),p=function(){return(0,d.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M10.07 5.93005L4 12.0001L10.07 18.0701",stroke:"#5B44E9",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M21 12H4.16998",stroke:"#5B44E9",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})};t.default=function(e){var t,r=e.user,o=(0,i.useState)(null!==(t=null===r||void 0===r?void 0:r.profile_picture)&&void 0!==t?t:null),l=o[0],m=o[1],h=(0,i.useState)(null),v=h[0],g=h[1],x=(0,i.useState)(!1),w=(x[0],x[1]),y=(0,i.useRef)(),b=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],g(window.URL.createObjectURL(r)),w(!0),(n=new FormData).append("image",r),e.prev=5,o={"Content-Type":"multipart/form-data"},e.next=9,u().put("".concat(f.T,"/user/avatar"),n,o);case 9:i=e.sent,c=i.data,s.ZP.success("Uploaded Successfully"),m(c.data.picture),w(!1),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),w(!1),s.ZP.error("Image upload failed. Try later."),g(null);case 22:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:"bg-white rounded-2xl p-10 px-3 md:w-43/50 mx-auto mt-10 shadow mb-12",children:(0,d.jsxs)("div",{className:"text-center relative",children:[(0,d.jsxs)("div",{className:"rounded-[50%] bg-secondary_sky_light w-[max-content] h-auto mx-auto flex p-3 object-cover overflow-hidden",children:[(0,d.jsx)("label",{htmlFor:"image",className:"mx-auto ".concat(null!==r&&void 0!==r&&r.profile_picture?" w-[14rem] h-[14rem]":" w-[12rem] h-[12rem]"),children:(0,d.jsx)("img",{src:(null!==v&&void 0!==v?v:l)?l:"/images/profile-placeholder.png",className:"m-auto cursor-pointer rounded-full object-cover w-[100%] h-[100%]"})}),(0,d.jsx)("input",{type:"file",name:"image",accept:"image/png, image/gif, image/jpeg",id:"image",className:"hidden",onChange:b,ref:y})]}),(0,d.jsxs)("div",{className:"w-[90%] mx-auto px-10 mt-12",children:[(0,d.jsx)("h3",{className:"text-3xl text-secondary_ink_dark font-semibold mb-3 mt-[-1.5rem]",children:"Choose your profile image"}),(0,d.jsx)("p",{className:"w-[80%] mx-auto text-secondary_ink_lighter text-lg mb-10",children:"Upload image or drag image to the avatar to upload. Recommended size 100px by 100px, 72 DPI, JPEG or PNG."}),(0,d.jsx)("label",{htmlFor:"image",className:"bg-primary_brand_lightest text-primary py-3 px-7 rounded-3xl cursor-pointer",children:"Upload Picture"})]}),(0,d.jsx)("div",{className:"mt-7 text-center w-[max-content] mx-auto text-primary",children:(0,d.jsx)(c.default,{href:"/profile",children:(0,d.jsxs)("a",{className:"flex items-center",children:[(0,d.jsx)(p,{}),(0,d.jsx)("span",{className:"ml-2",children:"Back"})]})})})]})})}},30847:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/profile/customize/change-picture",function(){return r(66318)}])},41664:function(e,t,r){e.exports=r(7942)}},function(e){e.O(0,[4931,9774,2888,179],(function(){return t=30847,e(e.s=t);var t}));var t=e.O();_N_E=t}]);